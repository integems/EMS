{"version":3,"sources":["components/alert.js"],"names":["dmx","Component","attributes","show","type","Boolean","default","String","enum","closable","methods","toggle","this","_toggle","_show","hide","_hide","setType","style","_setType","setTextContent","text","_setTextContent","init","node","_transitionendHandler","bind","_closeButton","document","createElement","setAttribute","className","addEventListener","classList","add","props","appendChild","setProperty","performUpdate","updatedProps","has","$node","$closeButton","remove","removeEventListener","removeProperty","offsetWidth","contains","once","types","map","apply","textContent"],"mappings":";;;;;;AAAAA,IAAAC,UAAA,YAAA,CAEAC,WAAA,CACAC,KAAA,CACAC,KAAAC,QACAC,SAAA,GAGAF,KAAA,CACAA,KAAAG,OACAD,QAAA,UACAE,KAAA,CAAA,UAAA,YAAA,UAAA,SAAA,UAAA,OAAA,QAAA,SAGAC,SAAA,CACAL,KAAAC,QACAC,SAAA,IAIAI,QAAA,CACAC,SACAC,KAAAC,SAEA,EAEAV,OACAS,KAAAE,OACA,EAEAC,OACAH,KAAAI,OACA,EAEAC,QAAAC,GACAN,KAAAO,SAAAD,EACA,EAEAE,eAAAC,GACAT,KAAAU,gBAAAD,EACA,GAGAE,KAAAC,GACAZ,KAAAa,sBAAAb,KAAAa,sBAAAC,KAAAd,MAEAA,KAAAe,aAAAC,SAAAC,cAAA,UACAjB,KAAAe,aAAAG,aAAA,OAAA,UACAlB,KAAAe,aAAAG,aAAA,aAAA,SACAlB,KAAAe,aAAAI,UAAA,YACAnB,KAAAe,aAAAK,iBAAA,QAAApB,KAAAI,MAAAU,KAAAd,OAEAY,EAAAM,aAAA,OAAA,SACAN,EAAAS,UAAAC,IAAA,SAEAtB,KAAAuB,MAAA1B,WACAe,EAAAY,YAAAxB,KAAAe,cACAH,EAAAS,UAAAC,IAAA,sBAGAtB,KAAAuB,MAAAhC,KACAqB,EAAAS,UAAAC,IAAA,QAEAV,EAAAN,MAAAmB,YAAA,UAAA,QAGAzB,KAAAO,SAAAP,KAAAuB,MAAA/B,KACA,EAEAkC,cAAAC,GACAA,EAAAC,IAAA,SACA5B,KAAAO,SAAAP,KAAAuB,MAAA/B,MAGAmC,EAAAC,IAAA,SACA5B,KAAAA,KAAAuB,MAAAhC,KAAA,QAAA,WAGAoC,EAAAC,IAAA,cACA5B,KAAAuB,MAAA1B,UACAG,KAAA6B,MAAAL,YAAAxB,KAAAe,cACAf,KAAA6B,MAAAR,UAAAC,IAAA,uBAEAtB,KAAA8B,aAAAC,SACA/B,KAAA6B,MAAAR,UAAAU,OAAA,sBAGA,EAEA7B,MAAA,WACAF,KAAA6B,MAAAG,oBAAA,gBAAAhC,KAAAa,uBACAb,KAAA6B,MAAAvB,MAAA2B,eAAA,WACAjC,KAAA6B,MAAAK,YACAlC,KAAA6B,MAAAR,UAAAC,IAAA,OACA,EAEAlB,MAAA,WACAJ,KAAA6B,MAAAG,oBAAA,gBAAAhC,KAAAa,uBACAb,KAAA6B,MAAAR,UAAAc,SAAA,QACAnC,KAAA6B,MAAAT,iBAAA,gBAAApB,KAAAa,sBAAA,CAAAuB,MAAA,IAEApC,KAAA6B,MAAAvB,MAAAmB,YAAA,UAAA,QAEAzB,KAAA6B,MAAAR,UAAAU,OAAA,OACA,EAEAlB,sBAAA,WACAb,KAAA6B,MAAAvB,MAAAmB,YAAA,UAAA,OACA,EAEAlB,SAAA,SAAAf,GACA,IAAA6C,EAAA,CAAA,UAAA,YAAA,UAAA,SAAA,UAAA,OAAA,QAAA,QAAAC,KAAA,SAAA9C,GAAA,MAAA,SAAAA,CAAA,IACAQ,KAAA6B,MAAAR,UAAAU,OAAAQ,MAAAvC,KAAA6B,MAAAR,UAAAgB,GACArC,KAAA6B,MAAAR,UAAAC,IAAA,SAAA9B,EACA,EAEAkB,gBAAA,SAAAD,GACAT,KAAAe,aAAAgB,SACA/B,KAAA6B,MAAAW,YAAA/B,EACAT,KAAAuB,MAAA1B,UACAG,KAAA6B,MAAAL,YAAAxB,KAAAe,aAEA","file":"dmxBootstrap5Alert.js","sourcesContent":["dmx.Component('bs5-alert', {\r\n\r\n  attributes: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n\r\n    type: {\r\n      type: String,\r\n      default: 'primary',\r\n      enum: ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark']\r\n    },\r\n\r\n    closable: {\r\n      type: Boolean,\r\n      default: false,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    toggle () {\r\n      this._toggle();\r\n      //this[this.$node.classList.contains('show') ? 'hide' : 'show']();\r\n    },\r\n\r\n    show () {\r\n      this._show();\r\n    },\r\n\r\n    hide () {\r\n      this._hide();\r\n    },\r\n\r\n    setType (style) {\r\n      this._setType(style);\r\n    },\r\n\r\n    setTextContent (text) {\r\n      this._setTextContent(text)\r\n    }\r\n  },\r\n\r\n  init (node) {\r\n    this._transitionendHandler = this._transitionendHandler.bind(this);\r\n\r\n    this._closeButton = document.createElement('button');\r\n    this._closeButton.setAttribute('type', 'button');\r\n    this._closeButton.setAttribute('aria-label', 'Close');\r\n    this._closeButton.className = 'btn-close';\r\n    this._closeButton.addEventListener('click', this._hide.bind(this));\r\n    \r\n    node.setAttribute('role', 'alert');\r\n    node.classList.add('alert');\r\n\r\n    if (this.props.closable) {\r\n      node.appendChild(this._closeButton);\r\n      node.classList.add('alert-dismissible');\r\n    }\r\n\r\n    if (this.props.show) {\r\n      node.classList.add('show');\r\n    } else {\r\n      node.style.setProperty('display', 'none');\r\n    }\r\n\r\n    this._setType(this.props.type);\r\n  },\r\n\r\n  performUpdate (updatedProps) {\r\n    if (updatedProps.has('type')) {\r\n      this._setType(this.props.type);\r\n    }\r\n\r\n    if (updatedProps.has('show')) {\r\n      this[this.props.show ? '_show' : '_hide']();\r\n    }\r\n\r\n    if (updatedProps.has('closable')) {\r\n      if (this.props.closable) {\r\n        this.$node.appendChild(this._closeButton);\r\n        this.$node.classList.add('alert-dismissible');\r\n      } else {\r\n        this.$closeButton.remove();\r\n        this.$node.classList.remove('alert-dismissible');\r\n      }\r\n    }\r\n  },\r\n\r\n  _show: function () {\r\n    this.$node.removeEventListener('transitionend', this._transitionendHandler);\r\n    this.$node.style.removeProperty('display');\r\n    this.$node.offsetWidth;\r\n    this.$node.classList.add('show');\r\n  },\r\n\r\n  _hide: function () {\r\n    this.$node.removeEventListener('transitionend', this._transitionendHandler);\r\n    if (this.$node.classList.contains('fade')) {\r\n      this.$node.addEventListener('transitionend', this._transitionendHandler, { once: true });\r\n    } else {\r\n      this.$node.style.setProperty('display', 'none');\r\n    }\r\n    this.$node.classList.remove('show');\r\n  },\r\n\r\n  _transitionendHandler: function () {\r\n    this.$node.style.setProperty('display', 'none');\r\n  },\r\n\r\n  _setType: function (type) {\r\n    var types = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'].map(function (type) { return 'alert-' + type });\r\n    this.$node.classList.remove.apply(this.$node.classList, types);\r\n    this.$node.classList.add('alert-' + type);\r\n  },\r\n\r\n  _setTextContent: function (text) {\r\n    this._closeButton.remove();\r\n    this.$node.textContent = text;\r\n    if (this.props.closable) {\r\n      this.$node.appendChild(this._closeButton);\r\n    }\r\n  }\r\n\r\n});\r\n"]}