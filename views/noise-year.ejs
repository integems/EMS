<!-- Wappler include head-page="layouts/portal_layout" is="dmx-app" id="noiseyear" appConnect="local" bootstrap5="local" fontawesome_6="local" bootstrap_icons="local" jquery_slim_35="cdn" components="{dmxBootstrap5Navigation:{},dmxFormatter:{},dmxBootstrap5TableGenerator:{},dmxStateManagement:{},dmxBootstrap5PagingGenerator:{}}" -->
<dmx-query-manager id="query_noise"></dmx-query-manager>
<dmx-serverconnect id="sc_noise_data" url="/api/noise/query_noise_data"></dmx-serverconnect>
<meta name="ac:route" content="/noise-year">

<section class="mb-3">
  <div class="row text-end">

    <div class="col text-start">
      <h1 class="fw-normal fs-2">Noise Data Insights</h1>
      <div class="breadcrumb">
        <a class="breadcrumb-item breadcrumb-link fs-5 fw-light" href="/dashboard">Dashboard</a>
        <a class="breadcrumb-item breadcrumb-link fs-5 fw-light" href="/noise">Noise</a>
        <a class="breadcrumb-item breadcrumb-link fs-5 fw-bold" href="/noise" dmx-bind:href="">{{var_datetime.datetime.getYear(var_datetime.datetime)}}</a>
      </div>
    </div>
  </div>
</section>
<section class="mb-3">
  <div class="row">
    <div class="col">
      <select id="select_quarterly" class="form-select">
        <option value="1">Option One</option>
        <option value="2">Option Two</option>
        <option value="3">Option Three</option>
      </select>
    </div>
    <div class="col">
      <select id="select_monthly" class="form-select">
        <option value="1">Option One</option>
        <option value="2">Option Two</option>
        <option value="3">Option Three</option>
      </select>
    </div>
    <div class="col">
      <select id="select_monitoring_location" class="form-select">
        <option value="1">Option One</option>
        <option value="2">Option Two</option>
        <option value="3">Option Three</option>
      </select>
    </div>
  </div>
</section>
<section class="mb-3">
  <div class="row">
    <div class="col mb-3">
      <div class="card">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Monitoring Location</th>
                  <th>Location Type</th>
                  <th>Start Date/Time</th>
                  <th>End Date/Time</th>
                  <th>LAeq</th>
                  <th>LA90</th>
                  <th>LA10</th>
                  <th>LAFMax</th>
                  <th>LAFMin</th>
                </tr>
              </thead>
              <tbody is="dmx-repeat" dmx-generator="bs5table" dmx-bind:repeat="sc_noise_data.data.query_noise.data" id="tableRepeat1">
                <tr>
                  <td dmx-text="org_specific_monitoring_id"></td>
                  <td dmx-text="location_type"></td>
                  <td dmx-text="start_date_time.formatDate('dd-MM-yyyy HH:mm')"></td>
                  <td dmx-text="end_date_time.formatDate('dd-MM-yyyy HH:mm')"></td>
                  <td dmx-text="LAeq"></td>
                  <td dmx-text="LA90"></td>
                  <td dmx-text="LA10"></td>
                  <td dmx-text="LAFMax"></td>
                  <td dmx-text="LAFMin"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <ul class="pagination" dmx-populate="sc_noise_data.data.query_noise" dmx-state="query_noise" dmx-offset="Offset" dmx-generator="bs5paging">
        <li class="page-item" dmx-class:disabled="sc_noise_data.data.query_noise.page.current == 1" aria-label="First">
          <a href="javascript:void(0)" class="page-link" dmx-on:click="query_noise.set('Offset',sc_noise_data.data.query_noise.page.offset.first)"><span aria-hidden="true">&lsaquo;&lsaquo;</span></a>
        </li>
        <li class="page-item" dmx-class:disabled="sc_noise_data.data.query_noise.page.current == 1" aria-label="Previous">
          <a href="javascript:void(0)" class="page-link" dmx-on:click="query_noise.set('Offset',sc_noise_data.data.query_noise.page.offset.prev)"><span aria-hidden="true">&lsaquo;</span></a>
        </li>
        <li class="page-item" dmx-class:active="title == sc_noise_data.data.query_noise.page.current" dmx-class:disabled="!active" dmx-repeat="sc_noise_data.data.query_noise.getServerConnectPagination(2,1,'...')">
          <a href="javascript:void(0)" class="page-link" dmx-on:click="query_noise.set('Offset',(page-1)*sc_noise_data.data.query_noise.limit)">{{title}}</a>
        </li>
        <li class="page-item" dmx-class:disabled="sc_noise_data.data.query_noise.page.current ==  sc_noise_data.data.query_noise.page.total" aria-label="Next">
          <a href="javascript:void(0)" class="page-link" dmx-on:click="query_noise.set('Offset',sc_noise_data.data.query_noise.page.offset.next)"><span aria-hidden="true">&rsaquo;</span></a>
        </li>
        <li class="page-item" dmx-class:disabled="sc_noise_data.data.query_noise.page.current ==  sc_noise_data.data.query_noise.page.total" aria-label="Last">
          <a href="javascript:void(0)" class="page-link" dmx-on:click="query_noise.set('Offset',sc_noise_data.data.query_noise.page.offset.last)"><span aria-hidden="true">&rsaquo;&rsaquo;</span></a>
        </li>
      </ul>

    </div>
  </div>
</section>
<section>
  <div class="row">
    <div class="col"></div>
  </div>
</section>